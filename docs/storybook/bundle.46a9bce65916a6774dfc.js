(()=>{(()=>{"use strict";class c extends Phaser.Scene{preload(){}create(){console.log("Story Scene created...")}}const T=e=>({title:e,template:"titleDelimiter"});class h extends Phaser.GameObjects.Container{constructor({scene:t,text:r}){super(t);const n=t.add.text(0,0,r,{fontSize:"32px",color:"#dedede"});this.add([n]),t.add.existing(this)}}var y=(e,t,r)=>new Promise((n,a)=>{var p=s=>{try{o(r.next(s))}catch(l){a(l)}},m=s=>{try{o(r.throw(s))}catch(l){a(l)}},o=s=>s.done?n(s.value):Promise.resolve(s.value).then(p,m);o((r=r.apply(e,t)).next())});const b={title:"TestButton",run:e=>y(void 0,null,function*(){const t=new h({scene:e,text:"Hello"});return()=>{t.destroy()}})},x={title:"TestButton 2",run:e=>y(void 0,null,function*(){const t=new h({scene:e,text:"Hello2"});return()=>{t.destroy()}})},B=Array.from(new Set([T("Simple Games"),b,x]));class i extends Phaser.Scene{constructor(){super(i.name)}preload(){this.load.image("sky","./assets/images/space3.png"),this.load.image("logo","./assets/images/phaser3-logo.png"),this.load.image("red","./assets/images/red.png")}create(){this.add.image(400,300,"sky");const t=this.add.particles(0,0,"red",{speed:100,scale:{start:1,end:0},blendMode:"ADD"}),r=this.physics.add.image(400,100,"logo");r.setVelocity(100,200),r.setBounce(1,1),r.setCollideWorldBounds(!0),t.startFollow(r),console.log("Game started")}}const C={mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,parent:"game",width:960,height:640},f={width:800,height:600,physics:{default:"arcade",arcade:{gravity:{x:0,y:200}}},type:Phaser.AUTO,backgroundColor:"#4488aa",transparent:!0,scale:C,scene:[i]};var D=Object.defineProperty,N=Object.defineProperties,H=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,v=(e,t,r)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,P=(e,t)=>{for(var r in t||(t={}))I.call(t,r)&&v(e,r,t[r]);if(g)for(var r of g(t))j.call(t,r)&&v(e,r,t[r]);return e},w=(e,t)=>N(e,H(t)),G=(e,t,r)=>new Promise((n,a)=>{var p=s=>{try{o(r.next(s))}catch(l){a(l)}},m=s=>{try{o(r.throw(s))}catch(l){a(l)}},o=s=>s.done?n(s.value):Promise.resolve(s.value).then(p,m);o((r=r.apply(e,t)).next())});const L=w(P({},f),{scale:w(P({},f.scale),{mode:Phaser.Scale.NONE,autoCenter:Phaser.Scale.NONE}),scene:[new c(c.name)]}),S=new Phaser.Game(L),d=document.getElementById("stories");if(d==null)throw"no sidebar";const k=document.getElementById("gameTitle");let u;const _=(e,t)=>G(void 0,null,function*(){u==null||u(),k.innerHTML=e.title;const r=t.scene.getScene(c.name);u=yield e.run(r)});let O=0;B.forEach(e=>{e.run!=null?(A(e,d,O==0),O++):e.template==="titleDelimiter"&&M(e,d)});function A(e,t,r){const n=E({storyTag:"button",innerHtml:`${e.title}`,className:"story",parent:t});n.addEventListener("click",()=>_(e,S).catch(console.warn)),r&&setTimeout(()=>{n.focus(),_(e,S).catch(console.warn)},500)}function M(e,t){return E({storyTag:"div",innerHtml:`${e.title}`,className:"storyDelimiter",parent:t})}function E({storyTag:e,className:t,innerHtml:r,parent:n}){const a=document.createElement(e);return a.innerHTML=r,a.classList.add(t),n.append(a),a}})();})();

//# sourceMappingURL=bundle.46a9bce65916a6774dfc.js.map